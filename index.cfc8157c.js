var refs={openModalBtn:document.querySelector('[data-action="open-modal"]'),closeModalBtn:document.querySelector('[data-action="close-modal"]'),backdrop:document.querySelector(".js-backdrop"),videoFrameWrapper:document.querySelector(".video-frame-wrapper"),videoFrame:document.querySelector(".video-frame"),visitButton:document.querySelector(".visit-button"),modalVideoTitle:document.querySelector(".modal-video-title"),modalMediaData:document.querySelector(".modal-media-data")};function onOpenModal(e){if(refs.videoFrame.setAttribute("src",null),e.target.closest(".card")){var o=e.target.closest(".card"),t=o.dataset.video,a=o.getElementsByClassName("card_title")[0].innerText;refs.modalVideoTitle.innerText=a;var n=o.getElementsByClassName("homePage")[0].innerText,r=o.getElementsByClassName("interactioncount")[0].innerText,d=n&&r?'<b class="grayRound">|</b>':"";refs.modalMediaData.innerHTML=n+d+r,refs.videoFrame.setAttribute("src",t),refs.visitButton.setAttribute("href",t),window.addEventListener("keydown",onEscPress),document.body.classList.add("show-modal")}}function onCloseModal(){window.removeEventListener("keydown",onEscPress),document.body.classList.remove("show-modal")}function onBackdropClick(e){e.target===e.currentTarget&&onCloseModal()}function onEscPress(e){"Escape"===e.code&&onCloseModal()}refs.openModalBtn.addEventListener("click",onOpenModal),refs.closeModalBtn.addEventListener("click",onCloseModal),refs.backdrop.addEventListener("click",onBackdropClick);
//# sourceMappingURL=index.cfc8157c.js.map
