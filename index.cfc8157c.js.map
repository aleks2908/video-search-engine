{"mappings":"AAAA,IAAMA,KAAO,CACXC,aAAcC,SAASC,cAAc,8BACrCC,cAAeF,SAASC,cAAc,+BACtCE,SAAUH,SAASC,cAAc,gBACjCG,kBAAmBJ,SAASC,cAAc,wBAC1CI,WAAYL,SAASC,cAAc,gBACnCK,YAAaN,SAASC,cAAc,iBACpCM,gBAAiBP,SAASC,cAAc,sBAIxCO,eAAgBR,SAASC,cAAc,sBAOzC,SAASQ,YAAYC,GAEnB,GADAZ,KAAKO,WAAWM,aAAa,MAAO,MAC/BD,EAAME,OAAOC,QAAQ,SAA1B,CAIA,IAAMC,EAAYJ,EAAME,OAAOC,QAAQ,SACjCE,EAAYD,EAAUE,QAAQC,MAI9BC,EAFYJ,EAAUK,uBAAuB,cAE3B,GAAGC,UAC3BtB,KAAKS,gBAAgBa,UAAYF,EAIjC,IACMG,EADeP,EAAUK,uBAAuB,YACxB,GAAGC,UAK3BE,EAFJR,EAAUK,uBAAuB,oBAEW,GAAGC,UAU1CG,EAAMF,GAAYC,EAAmB,6BAA+B,GAE3ExB,KAAKU,eAAegB,UAAYH,EAAWE,EAAMD,EAMjDxB,KAAKO,WAAWM,aAAa,MAAOI,GACpCjB,KAAKQ,YAAYK,aAAa,OAAQI,GAEtCU,OAAOC,iBAAiB,UAAWC,YACnC3B,SAAS4B,KAAKC,UAAUC,IAAI,aAzC1B,C,CA4CJ,SAASC,eACPN,OAAOO,oBAAoB,UAAWL,YACtC3B,SAAS4B,KAAKC,UAAUI,OAAO,a,CAGjC,SAASC,gBAAgBxB,GACnBA,EAAME,SAAWF,EAAMyB,eACzBJ,c,CAIJ,SAASJ,WAAWjB,GACI,WAClBA,EAAM0B,MACRL,c,CAjEJjC,KAAKC,aAAa2B,iBAAiB,QAASjB,aAC5CX,KAAKI,cAAcwB,iBAAiB,QAASK,cAC7CjC,KAAKK,SAASuB,iBAAiB,QAASQ","sources":["src/js/modal.js"],"sourcesContent":["const refs = {\n  openModalBtn: document.querySelector('[data-action=\"open-modal\"]'),\n  closeModalBtn: document.querySelector('[data-action=\"close-modal\"]'),\n  backdrop: document.querySelector('.js-backdrop'),\n  videoFrameWrapper: document.querySelector('.video-frame-wrapper'),\n  videoFrame: document.querySelector('.video-frame'),\n  visitButton: document.querySelector('.visit-button'),\n  modalVideoTitle: document.querySelector('.modal-video-title'),\n  // modalVideoInteractioncount: document.querySelector(\n  //   '.modal-video-interactioncount'\n  // ),\n  modalMediaData: document.querySelector('.modal-media-data'),\n};\n\nrefs.openModalBtn.addEventListener('click', onOpenModal);\nrefs.closeModalBtn.addEventListener('click', onCloseModal);\nrefs.backdrop.addEventListener('click', onBackdropClick);\n\nfunction onOpenModal(event) {\n  refs.videoFrame.setAttribute('src', null);\n  if (!event.target.closest('.card')) {\n    return;\n  }\n\n  const videoData = event.target.closest('.card');\n  const videoLink = videoData.dataset.video;\n\n  const titleData = videoData.getElementsByClassName('card_title');\n\n  const title = titleData[0].innerText;\n  refs.modalVideoTitle.innerText = title;\n\n  ////////////////////////////////////////////////////////////\n\n  const homePageData = videoData.getElementsByClassName('homePage');\n  const homePage = homePageData[0].innerText;\n\n  const interactioncountData =\n    videoData.getElementsByClassName('interactioncount');\n\n  const interactioncount = interactioncountData[0].innerText;\n\n  // const ttt =\n  //   '<b class=\"grayRound\"><svg width=\"4\" height=\"4\" viewBox=\"0 0 4 4\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><circle cx=\"2\" cy=\"2\" r=\"2\" fill=\"#5D6067\"/></svg></b>';\n\n//  const ttt =\n//    homePage && interactioncount\n//      ? '<b class=\"grayRound\"><svg width=\"4\" height=\"4\" viewBox=\"0 0 4 4\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><circle cx=\"2\" cy=\"2\" r=\"2\" fill=\"#5D6067\"/></svg></b>'\n//      : '';\n  \n   const ttt = homePage && interactioncount ? '<b class=\"grayRound\">|</b>' : '';\n\n  refs.modalMediaData.innerHTML = homePage + ttt + interactioncount;\n\n  // refs.modalVideoInteractioncount.innerText = interactioncount;\n\n  /////////////////////////////////////////////////////////////////\n\n  refs.videoFrame.setAttribute('src', videoLink);\n  refs.visitButton.setAttribute('href', videoLink);\n\n  window.addEventListener('keydown', onEscPress);\n  document.body.classList.add('show-modal');\n}\n\nfunction onCloseModal() {\n  window.removeEventListener('keydown', onEscPress);\n  document.body.classList.remove('show-modal');\n}\n\nfunction onBackdropClick(event) {\n  if (event.target === event.currentTarget) {\n    onCloseModal();\n  }\n}\n\nfunction onEscPress(event) {\n  const ESC_KEY_CODE = `Escape`;\n  if (event.code === ESC_KEY_CODE) {\n    onCloseModal();\n  }\n}\n"],"names":["refs","openModalBtn","document","querySelector","closeModalBtn","backdrop","videoFrameWrapper","videoFrame","visitButton","modalVideoTitle","modalMediaData","onOpenModal","event","setAttribute","target","closest","videoData","videoLink","dataset","video","title","getElementsByClassName","innerText","homePage","interactioncount","ttt","innerHTML","window","addEventListener","onEscPress","body","classList","add","onCloseModal","removeEventListener","remove","onBackdropClick","currentTarget","code"],"version":3,"file":"index.cfc8157c.js.map"}